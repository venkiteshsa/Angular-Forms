<div class="container-fluid">
  <h1>Project</h1>

  <form #projectForm="ngForm" *ngIf="!submitted" (ngSubmit)="onSubmit()" novalidate>

    <div class="form-group">
      <label>Name</label>
      <input type="text" #name="ngModel" required  
        class="form-control" [class.is-invalid]="name.invalid && name.touched"  
        name="name" [(ngModel)]="projectModel.name">
      <small class="text-danger" [class.d-none]="name.valid || name.untouched">Name is required</small>
    </div>


    <div class="form-group">
      <label>Environment</label>
      <br>
      <select (blur)="validateEnvironment(environment.value)" (change)="validateEnvironment(environment.value)" #environment="ngModel" required  
        [class.is-invalid]="environmentHasError && environment.touched" class="custom-select" 
        name="environment" [(ngModel)]="projectModel.environment">
          <option *ngFor="let env of environments">{{ env }}</option>>
      </select>
      <small class="text-danger" [class.d-none]="!environmentHasError || environment.untouched">Please select environment</small>
    </div>

    <div class="form-group">
      <label>Source</label>
      <br>
      <select (blur)="validateSource(source.value)" (change)="validateSource(source.value)" #source="ngModel" required  
        [class.is-invalid]="sourceHasError && source.touched" class="custom-select" 
        name="source" [(ngModel)]="projectModel.source">
          <option *ngFor="let src of sources">{{ src }}</option>>
      </select>
      <small class="text-danger" [class.d-none]="!sourceHasError || source.untouched">Please select source</small>
    </div>

    <button class="btn btn-primary" type="submit" [disabled]="projectForm.form.invalid || environmentHasError">Submit</button> 
    
  </form>
</div>